package{	import bangfe.core.CoreDisplayObject;	import bangfe.simpleaudioplayer.SimpleAudioPlayer;	import bangfe.ui.ToggleButton;		import flash.display.Sprite;	import flash.events.MouseEvent;	public class TestAudioPlayer extends CoreDisplayObject	{					public var audioToggleButton : ToggleButton;		public var manualAudioButton : ToggleButton;						private var _audioPlayer : SimpleAudioPlayer = new SimpleAudioPlayer();				//--------------------------------------		//  PROTECTED METHODS		//--------------------------------------			override protected function setDefaults():void		{					}				override protected function addListeners():void		{			_audioPlayer.stateChangedSignal.add(audioPlayerStateChangedHandler);			_audioPlayer.isReadyChangedSignal.add(audioPlayerIsReadyChangedHandler);						audioToggleButton.addEventListener(MouseEvent.CLICK, toggleAudioHandler);						manualAudioButton.addEventListener(MouseEvent.CLICK, manualAudioHandler);		}				override protected function postInit():void		{			_audioPlayer.source = "music.mp3";		}				//--------------------------------------		//  HANDLER METHODS		//--------------------------------------							private function toggleAudioHandler ( e : MouseEvent ) : void		{			_audioPlayer.toggle();		}				private function audioPlayerIsReadyChangedHandler ( p_isReady : Boolean ) : void		{			audioToggleButton.isEnabled = p_isReady;		}				private function audioPlayerStateChangedHandler ( p_state : String ) : void		{			if(_audioPlayer.isPlaying){				audioToggleButton.setOn(false);				}else{				audioToggleButton.setOff(false);			}		}				private function manualAudioHandler (e : MouseEvent) : void		{			_audioPlayer.resume(true);					}											}}